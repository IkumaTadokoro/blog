---
title: Exercism(Ruby)で学んだこと
draft: false
publishDate: 2021-08-01
category: tech
tags:
  - Exercism
  - Ruby
---

import { Image } from 'astro:assets';

import image from "./exercism-ruby.png"

<Image src={image} alt="" />

## Exercismとは

[Exercism](https://exercism.io)は、無料でできるプログラミング練習問題サイトです。
言語ごとに100種類近い練習問題が用意されており、ちょっとした文法の練習に最適です。
（文法だけ読んでると退屈なので、これで遊んで覚えます）

Exercismでの問題を解く流れは次の通りです。

1. 練習問題をコピー
2. 自分で解く
3. 提出
4. 他の人の回答が見られたり、レビューを受けられたりする

今回Rubyが久々ということもあって、人の回答を見る中で「そういうのもあるんか！」と思ったものが多々ありました。そこで、個人的に気になったものを随時この記事にまとめていこうと思います。

## 学んだこと

### Integer#digits

登場回：Armstrong Numbers

> base を基数として self を位取り記数法で表記した数値を配列で返します。 base を指定しない場合の基数は 10 です。[class Integer \(Ruby 3\.0\.0 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/class/Integer.html#I_DIGITS)

[ナルシシスト数](https://ja.wikipedia.org/wiki/%E3%83%8A%E3%83%AB%E3%82%B7%E3%82%B7%E3%82%B9%E3%83%88%E6%95%B0)の導出のために、与えられた数値を桁ごとに区切る必要があったのですが、自分の回答では、以下のように一旦文字列に置換してから分割処理を実施していました。

```ruby frame=terminal title=irb
153.to_s.chars
#=>["1", "5", "3"]
```

`Integer#digits`であれば文字列を介さずに、分割することが可能でした。ただし、1のくらいから順に格納されるので、中身は同じですが、順番が異なる配列が完成することに注意です。

```ruby frame=terminal title=irb
>> 153.digits
#=> [3, 5, 1]
```

### 冪乗の`e`

登場回：Gigasecond

これはRubyというよりも数学的なところですが、10の冪乗は`e`を使っても表せるようです。
浮動小数点になることに注意が必要ですね。

```ruby frame=terminal title=irb
>> 1e9
#=> 1000000000.0
```

参考
- [指数表記 \- Wikipedia](https://ja.wikipedia.org/wiki/%E6%8C%87%E6%95%B0%E8%A1%A8%E8%A8%98)
- [リテラル \(Ruby 3\.0\.0 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/doc/spec=2fliteral.html)

### Rubyで等比数列

登場回：Grain

Rubyで等比数列を作る場合、以下のように記述できるようです。

```ruby title=geometric.rb
# num: 初項
# ratio: 公比
# length: 数列の長さ
def geometric_sequence(num, ratio, length)
  Array.new(length) { |n| num * ratio**n }
end
```

参考：[【Ruby】等差数列・等比数列を作成する１番シンプルな処理 \- Qiita](https://qiita.com/kou_pg_0131/items/4b0700fba9c56b0cf159#%E7%AD%89%E6%AF%94%E6%95%B0%E5%88%97)


---

余談：このGrainという問題は、「[Wheat and chessboard problem](https://en.wikipedia.org/wiki/Wheat_and_chessboard_problem)」といって、歴史ある数学的問題のようです。
